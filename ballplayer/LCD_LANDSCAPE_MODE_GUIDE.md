# LCD横屏显示修改指南

## 🔄 修改内容总结

### 1. LCD初始化模块修改 (`lcd_init.v`)

#### 显示方向设置
```verilog
// 原来 (竖屏)
'd2 :  init_data <= 9'h100;  // 0x00 = 竖屏

// 修改后 (横屏)  
'd2 :  init_data <= 9'h160;  // 0x60 = 横屏
```

#### 窗口尺寸设置
```verilog
// 修改后：320x240 (宽x高)
X坐标: 0-319 (0x000-0x13F)
Y坐标: 0-239 (0x000-0x0EF)
```

### 2. 显示模块修改 (`lcd_emoji_display.v`)

#### 坐标计算
```verilog
// 原来 (240x320 竖屏)
x = (counter[17:1] % 240) & 8'hFF;
y = (counter[17:1] / 240) & 8'hFF;

// 修改后 (320x240 横屏)
x = (counter[17:1] % 320) & 9'h1FF;  // X范围 0-319
y = (counter[17:1] / 320) & 8'hFF;   // Y范围 0-239
```

#### 颜文字显示区域调整
```verilog
// 调整表情居中位置
原来区域: (80-160, 100-180)   // 竖屏中心
修改后:   (120-200, 80-160)   // 横屏中心
```

---

## 🎯 横屏坐标系统

### 屏幕布局
```
横屏模式 320x240:
(0,0) -----------------> X轴 (319)
  |
  |        颜文字表情
  |      显示区域中心
  |     (160, 120)
  |
  ↓
Y轴 (239)
```

### 表情显示区域
- **中心坐标**: (160, 120)
- **显示区域**: X: 120-200, Y: 80-160
- **区域大小**: 80x80像素

---

## 🔧 ST7789V显示方向参数说明

### 0x36命令参数含义
```
Bit7  Bit6  Bit5  Bit4  Bit3  Bit2  Bit1  Bit0
MY    MX    MV    ML    BGR   MH    X     X

MV=1, MX=1, MY=0: 横屏显示
= 0x60 (二进制: 01100000)
```

- **MV**: 行列交换 (1=交换)
- **MX**: 列地址顺序 (1=右到左)  
- **MY**: 行地址顺序 (0=上到下)

---

## ✅ 修改效果

### 修改前 (竖屏)
- 分辨率: 240x320
- 表情显示: 竖直方向
- 可能出现拉伸变形

### 修改后 (横屏)
- 分辨率: 320x240  
- 表情显示: 水平方向
- 更适合观看，符合人眼习惯

---

## 🚀 使用方法

1. **编译项目**: 在Quartus中手动编译整个项目
2. **下载到FPGA**: 将生成的位流文件下载到开发板
3. **观察效果**: LCD应该以横屏模式显示颜文字表情

---

## 🔍 调试提示

### 如果显示异常：
1. **检查LCD连接线是否松动**
2. **确认引脚配置正确**
3. **检查电源供电是否稳定**

### 如果需要微调表情位置：
- 修改 `lcd_emoji_display.v` 中的坐标范围
- 调整表情的X、Y偏移量

---

## 📝 更多表情适配

目前已适配前2个表情为横屏显示，如需适配更多表情：

```verilog
// 横屏表情模板
5'd表情ID: begin
    if ((x >= 120 && x <= 200) && (y >= 80 && y <= 160)) begin
        // 在这里添加表情绘制代码
        // 坐标范围已适配横屏居中显示
    end
end
```

**横屏显示修改完成！** 🎉📱➡️🖥️

# BallPlayer ç¼–è¯‘çŠ¶æ€æ›´æ–°

## ğŸ‰ ç¬¬ä¸‰æ¬¡ç¼–è¯‘é”™è¯¯ä¿®å¤å®Œæˆï¼ (2025-05-28 11:50)

### âœ… æœ€æ–°ä¿®å¤å†…å®¹ - ç«¯å£è¿æ¥é”™è¯¯

#### ğŸ”§ ballplayer_top.v ç¬¬142è¡Œè¯­æ³•é”™è¯¯ä¿®å¤
- **é—®é¢˜**: ç«¯å£è¿æ¥å¾ªç¯å†²çª - `home` ä¿¡å·åŒæ—¶ä½œä¸ºæ¨¡å—è¾“å…¥å’Œassignç›®æ ‡
- **é”™è¯¯ä¿¡æ¯**: `Verilog HDL syntax error at ballplayer_top.v(142) near text: "'"`
- **æ ¹æœ¬åŸå› **: `jumping` æ¨¡å—çš„ `home` è¾“å…¥ç«¯å£ä¸é¡¶å±‚çš„ `assign home` è¯­å¥å†²çª
- **è§£å†³æ–¹æ¡ˆ**: 
  ```verilog
  // ä¿®å¤å‰: wire [8:0] home; + .home(home) + assign home = ...
  // ä¿®å¤å: wire [8:0] home_pos; + .home(home_pos) + assign home_pos = ...
  ```
- **çŠ¶æ€**: âœ… ç«¯å£è¿æ¥å†²çªå·²å®Œå…¨ä¿®å¤

#### ğŸ“‹ ä¿®å¤è¯¦æƒ…
1. **ä¿¡å·é‡å‘½å**: `wire home` â†’ `wire home_pos`
2. **ç«¯å£è¿æ¥æ›´æ–°**: `.home(home)` â†’ `.home(home_pos)`  
3. **èµ‹å€¼è¯­å¥æ›´æ–°**: `assign home = ...` â†’ `assign home_pos = ...`

## ğŸ‰ ç¬¬äºŒæ¬¡ç¼–è¯‘é”™è¯¯ä¿®å¤å®Œæˆï¼ (2025-05-28 11:40)

### âœ… æœ€æ–°ä¿®å¤å†…å®¹

#### 1. RPR0521RSé©±åŠ¨æ¨¡å—ä¿®å¤
- **é—®é¢˜**: `i2c_data_in` ç«¯å£è¿æ¥é”™è¯¯ - è¾“å‡ºç«¯å£è¿æ¥åˆ°regç±»å‹
- **è§£å†³**: å°† `reg [7:0] i2c_data_in` æ”¹ä¸º `wire [7:0] i2c_data_in`
- **çŠ¶æ€**: âœ… ç«¯å£è¿æ¥é”™è¯¯å·²ä¿®å¤

#### 2. ä½å®½è­¦å‘Šä¿®å¤
- **ballplayer_top.v**: ä¿®å¤homeè®¡ç®—çš„32ä½åˆ°9ä½æˆªæ–­
  ```verilog
  // ä¿®å¤å‰: assign home = ((310 * adc_data) >> 8) + 7;
  // ä¿®å¤å: assign home = 9'(((310 * adc_data) >> 8) + 7);
  ```
- **adc081s101_driver.v**: ä¿®å¤å¤šä¸ªä½å®½ä¸åŒ¹é…é—®é¢˜
  - 5ä½è®¡æ•°å™¨èµ‹å€¼32ä½å¸¸æ•° â†’ ä½¿ç”¨5'dæ ¼å¼
  - 16ä½è®¡æ•°å™¨æ¯”è¾ƒ32ä½å¸¸æ•° â†’ ä½¿ç”¨16'dæ ¼å¼  
  - 8ä½è®¡æ•°å™¨æ¯”è¾ƒ32ä½å¸¸æ•° â†’ ä½¿ç”¨8'dæ ¼å¼

### å½“å‰é¡¹ç›®çŠ¶æ€

#### âœ… ç¼–è¯‘æ£€æŸ¥ç»“æœ
- **è¯­æ³•æ£€æŸ¥**: 13ä¸ªVerilogæ–‡ä»¶å…¨éƒ¨é€šè¿‡ âœ…
- **é¡¹ç›®é…ç½®**: ballplayer.qsf æ›´æ–°å®Œæˆ âœ…
- **æºæ–‡ä»¶**: æ‰€æœ‰æ¨¡å—æ­£ç¡®æ·»åŠ åˆ°é¡¹ç›® âœ…

#### ğŸ“ å®Œæ•´æ–‡ä»¶åˆ—è¡¨
```
source/
â”œâ”€â”€ ballplayer_top.v              # é¡¶å±‚æ¨¡å— âœ…
â”œâ”€â”€ ballplayer_pll.v              # PLLæ—¶é’Ÿç”Ÿæˆ âœ… å·²ä¿®å¤
â”œâ”€â”€ jumping.v                     # çƒè¿åŠ¨æ§åˆ¶ âœ…
â”œâ”€â”€ hand_control.v                # æ‰‹åŠ¿æ§åˆ¶ âœ…
â”œâ”€â”€ adjuster.v                    # å‚æ•°è°ƒèŠ‚ âœ…
â”œâ”€â”€ adc081s101_driver.v           # ADCé©±åŠ¨ âœ…
â”œâ”€â”€ frequency_divider.v           # é¢‘ç‡åˆ†é¢‘å™¨ âœ…
â”œâ”€â”€ debounce.v                    # æŒ‰é”®æ¶ˆæŠ– âœ…
â”œâ”€â”€ segment_display.v             # æ•°ç ç®¡æ˜¾ç¤º âœ…
â”œâ”€â”€ rpr0521rs_driver.v           # æ‰‹åŠ¿ä¼ æ„Ÿå™¨é©±åŠ¨ âœ…
â”œâ”€â”€ lcd_display.v                # LCDæ˜¾ç¤ºæ§åˆ¶ âœ…
â”œâ”€â”€ lcd_init.v                   # LCDåˆå§‹åŒ– âœ…
â””â”€â”€ lcd_write.v                  # LCDå†™å…¥æ“ä½œ âœ…
```

### ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

#### 1. é‡æ–°ç¼–è¯‘
ç°åœ¨å¯ä»¥åœ¨Quartus Primeä¸­é‡æ–°è¿è¡Œç¼–è¯‘ï¼š
```
Analysis & Synthesis â†’ Fitter â†’ Assembler â†’ TimeQuest
```

#### 2. é¢„æœŸç»“æœ
- **Analysis & Synthesis**: åº”è¯¥æˆåŠŸå®Œæˆï¼Œæ— é”™è¯¯
- **Fitter**: æ ¹æ®å¼•è„šçº¦æŸè¿›è¡Œå¸ƒå±€å¸ƒçº¿
- **TimeQuest**: æ—¶åºåˆ†æåº”è¯¥æ»¡è¶³çº¦æŸ

#### 3. å¯èƒ½çš„æ–°é—®é¢˜
- **èµ„æºä½¿ç”¨**: æ£€æŸ¥FPGAèµ„æºåˆ©ç”¨ç‡
- **æ—¶åºçº¦æŸ**: å¯èƒ½éœ€è¦æ·»åŠ æ—¶åºçº¦æŸæ–‡ä»¶(SDC)
- **å¼•è„šå†²çª**: éªŒè¯å¼•è„šåˆ†é…ä¸å¼€å‘æ¿ä¸€è‡´

### æŠ€æœ¯è¯¦æƒ…

#### PLLä¿®å¤å‰åå¯¹æ¯”
**ä¿®å¤å‰ (é”™è¯¯):**
```verilog
module ballplayer_pll (
    output  c0,         // è¾“å‡ºç«¯å£å£°æ˜
    output  c1,
    output  locked
);
// ...
wire  c0 = sub_wire4[0];  // âŒ é‡å¤å£°æ˜
wire  c1 = sub_wire4[1];  // âŒ é‡å¤å£°æ˜
wire  locked = sub_wire5; // âŒ é‡å¤å£°æ˜
```

**ä¿®å¤å (æ­£ç¡®):**
```verilog
module ballplayer_pll (
    output  c0,         // è¾“å‡ºç«¯å£å£°æ˜
    output  c1,
    output  locked
);
// ...
assign c0 = sub_wire4[0];      // âœ… æ­£ç¡®çš„è¿æ¥æ–¹å¼
assign c1 = sub_wire4[1];      // âœ… æ­£ç¡®çš„è¿æ¥æ–¹å¼
assign locked = sub_wire5;     // âœ… æ­£ç¡®çš„è¿æ¥æ–¹å¼
```

#### å™¨ä»¶é…ç½®æ›´æ–°
```tcl
# ä¿®å¤å‰
set_global_assignment -name DEVICE 10M08SAM153C8G

# ä¿®å¤å
set_global_assignment -name DEVICE 10M50DAF484C7G
set_global_assignment -name NUM_PARALLEL_PROCESSORS 4
```

---

**çŠ¶æ€**: ğŸŸ¢ Ready for Compilation  
**ä¿®å¤æ—¶é—´**: 2025å¹´5æœˆ28æ—¥ 11:40  
**ä¸‹æ¬¡æ£€æŸ¥**: ç¼–è¯‘å®Œæˆåè¿›è¡Œæ—¶åºåˆ†æ
